<h1>POSTS</h1>
<div class="row">
  <div class="col-3"></div>
  <div class="col-6" id="keywordSearch">
    <h3>Search Posts</h3>
    <p>Query through all posts content</p>
    <form>
        <input type="text" id="keyword" size="100" name="keyword"[(ngModel)]="keyword"/>
        <button class="btn btn-primary" type="submit" value="Search" (click)="postSearch(keyword)">Search</button>
      </form>
  </div>
  <div class="col-3"></div>
</div>
<div id="postSearchResults" *ngIf="keywordPosts">
  <div id="posts" *ngFor="let post of keywordPosts" >
    <div *ngIf="post.enabled">
      <h4>{{post.title}}</h4>
      <p>{{post.createDate}}</p>
      <p>{{post.content}}</p>
      <p><img src="{{post.user?.imageURL}}" alt="">{{post.user?.username}}</p>
    </div>
  </div>

</div>

<div id="editPost" *ngIf="editPost && !keywordPosts">
  <h3>Edit Post</h3>
  <form>
      Topic: <input type="text" name="topic" [(ngModel)]="editPost.title"/><br />
      <textarea type="text" name="description" placeholder="Post Content" [(ngModel)]="editPost.content"></textarea><br>

      <input class="btn btn-dark m-1" type="submit" value="update" (click)="updatePost(editPost,editPost.id)"/>
      <input class="btn btn-danger" type="submit" value="cancel" (click)="cancelEditPost()"/>

    </form>
</div >
<div *ngIf="!editPost && !keywordPosts">
<div id="posts" *ngFor="let post of posts" >
  <div *ngIf="post.enabled">
    <h4>{{post.title}}</h4>
    <p>{{post.createDate}}</p>
    <p>{{post.content}}</p>
    <p>{{post.user?.username}}</p>
    <button class = "btn btn-success" *ngIf="post?.user?.id === loggedInUser?.id" (click)="setEditPost(post)">Edit</button>
    <!-- <button class = "btn btn-success" *ngIf="loggedInUser" (click)="postComment">Comment</button>
    <div id="postComment">
      <form>
        <textarea type="text" id="commnet" name="comment" placeholder="Reply Here" ></textarea><br>

        <input class="btn btn-dark m-1" type="submit" value="submit-WIP"/>
        <input class="btn btn-danger" type="submit" value="cancel" (click)="cancelEditPost()"/>

      </form>
    </div> -->
  </div>
</div>
</div>

<div id="createPost" >
  <h3>Create Post</h3>
  <form>
      Topic: <input type="text" name="topic" placeholder="" [(ngModel)]="newPost.title"/><br />
      <textarea type="text" name="description" placeholder="Post Content" [(ngModel)]="newPost.content"></textarea><br>

      <input class="btn btn-dark m-1" type="submit" value="add post" (click)="createPost(newPost)"/>
      <input class="btn btn-dark m-1" type="submit" value="cancel"/>

    </form>
</div>

